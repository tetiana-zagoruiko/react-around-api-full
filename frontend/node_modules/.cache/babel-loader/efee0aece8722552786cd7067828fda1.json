{"ast":null,"code":"import _classCallCheck from\"/Users/tanya/Dev/react-around-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tanya/Dev/react-around-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=\"https://www.api.tzpract.students.nomoreparties.site\";this._headers={'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))};}_createClass(Api,[{key:\"getCardList\",value:function getCardList(){return fetch(this._baseUrl+'/cards',{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))}}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(this._baseUrl+'/users/me',{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))}}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}},{key:\"addCard\",value:function addCard(_ref2){var name=_ref2.name,link=_ref2.link;return fetch(this._baseUrl+'/cards',{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))},method:\"POST\",body:JSON.stringify({name:name,link:link})}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}},{key:\"removeCard\",value:function removeCard(cardID){return fetch(this._baseUrl+'/cards/'+cardID,{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))},method:\"DELETE\"}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardID,like){if(like){return fetch(this._baseUrl+'/cards/'+cardID+'/likes',{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))},method:\"DELETE\"}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}else{return fetch(this._baseUrl+'/cards/'+cardID+'/likes',{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))},method:\"PUT\"}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}}},{key:\"setUserInfo\",value:function setUserInfo(data){return fetch(this._baseUrl+'/users/me',{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))},method:\"PATCH\",body:JSON.stringify({name:data.name,about:data.title})}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}},{key:\"setUserAvatar\",value:function setUserAvatar(avatar){return fetch(this._baseUrl+'/users/me/avatar',{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('jwt'))},method:\"PATCH\",body:JSON.stringify({avatar:avatar})}).then(function(res){return res.ok?res.json():Promise.reject('Error'+res.statusText);});}}]);return Api;}();var api=new Api({baseUrl:\"http://localhost:3000\"});export default api;","map":{"version":3,"sources":["/Users/tanya/Dev/react-around-api-full/frontend/src/utils/Api.js"],"names":["Api","baseUrl","headers","_baseUrl","_headers","localStorage","getItem","fetch","then","res","ok","json","Promise","reject","statusText","name","link","method","body","JSON","stringify","cardID","like","data","about","title","avatar","api"],"mappings":"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","sourcesContent":["class Api {\n    constructor({baseUrl, headers}) {\n        this._baseUrl = \"https://www.api.tzpract.students.nomoreparties.site\";\n        this._headers = {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n        }; \n    }\n\n    getCardList() {\n        return fetch(this._baseUrl + '/cards', {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n            }\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n    }\n\n    getUserInfo() { \n        return fetch(this._baseUrl + '/users/me', {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n            }\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n    }\n\n    addCard({ name, link}) {\n        return fetch(this._baseUrl + '/cards', {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            method: \"POST\",\n            body: JSON.stringify({\n                name,\n                link\n            })\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n    }\n\n    removeCard(cardID) {\n        return fetch(this._baseUrl + '/cards/' + cardID, {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            method: \"DELETE\"\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n\n    }\n\n    changeLikeCardStatus (cardID, like) {\n        if (like) {\n            return fetch(this._baseUrl + '/cards/' + cardID + '/likes', {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n                },\n                method: \"DELETE\"\n            })\n            .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n        } else {\n            return fetch(this._baseUrl + '/cards/' + cardID + '/likes', {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n                },\n                method: \"PUT\"\n            })\n            .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n        }\n    }\n\n    setUserInfo(data) {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            method: \"PATCH\",\n            body: JSON.stringify({\n                name: data.name,\n                about: data.title\n            })\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n    }\n\n    setUserAvatar(avatar) {\n        return fetch(this._baseUrl + '/users/me/avatar', {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            method: \"PATCH\",\n            body: JSON.stringify({\n                avatar\n            })\n        })\n            .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n    }\n\n}\n\nconst api = new Api({\n    baseUrl: \"http://localhost:3000\",\n});\n\nexport default api;"]},"metadata":{},"sourceType":"module"}